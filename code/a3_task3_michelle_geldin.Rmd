---
title: "Assignment 3 Task 3 Michelle Geldin"
author: "Michelle Geldin"
date: "10/27/2021"
output:  
  html_document: 
    theme: yeti
    toc: yes
    code_folding: hide
---
## Overview

The "urchins.csv" data comes from Santa Barbara Coastal LTER and was accessed via the EDI Data Portal. The data describes the size frequency distribution of red and purple sea urchins at SBC LTER long-term kelp removal experiment sites. The diameter of the test (shell without spines) is recorded in centimeters to the nearest 0.5 cm for 50 red and 50 purple sea urchins located in 40 m x 2 m transects in each sampling plot.

This report will 

### Data Citation

Reed, D. 2020. SBC LTER: Reef: Long-term experiment: Kelp removal: Urchin size frequency distribution ver 20. Environmental Data Initiative. https://doi.org/10.6073/pasta/5a1e9ef03aa47bd2225c0bb98a02a63b.

## Setup

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
library(tidyverse)
library(here)
library(janitor)
library(kableExtra)
library(lubridate)
```

## Read in the data

```{r}
urchins_data <- read_csv(here("data", "urchins.csv" ))
```

## Section 1

### Data Wrangling

```{r}
urchins_data_clean <- urchins_data %>%
  clean_names()
```

### Data Visualization

```{r}
ggplot(data = urchins_data_clean, aes(x = size, fill = common_name)) +
  geom_histogram(bins = 10) +
  scale_fill_manual(values = c("purple", "red")) +
  labs(x = "Urchin Diameter (cm)",
       y = "Count of Urchins",
       title = "Comparison of Urchin diameter (cm) between Purple and Red Urchins") +
  facet_wrap(~ common_name) #How do I change the common name title?
```

Figure caption:


### Descriptive Statistics Table

Table Caption:

```{r}
urchins_stats <- urchins_data_clean %>%
  group_by(common_name) %>%
  summarize(mean_size = round(mean(size), 2),
            sd_size = round(sd(size), 2),
            median_size = round(median(size), 2),
            sample_size = n())

urchins_stats %>%
  kable(col.names = c("Common Name",
                      "Mean Diameter (cm)",
                      "Standard Deviation",
                      "Median Diameter (cm)", 
                      "Sample Size (n)")) %>%
  kable_styling(full_width = FALSE)

urchins_stats
```

### Description of Takeaways


## Section 2

### Data Wrangling

```{r}
purple_urchins <- urchins_data_clean %>%
  filter(common_name == "Purple Urchin") %>%
  mutate(date = mdy(date)) %>%
  mutate(year = year(date)) %>%
  mutate(site_full = case_when(
    site %in% c("NAPL") ~ "Naples Reef",
    site %in% c("AQUE") ~ "Arroyo Quemado Reef",
    site %in% c("CARP") ~ "Carpinteria Reef",
    site %in% c("MOHK") ~ "Mohawk Reef",
    site %in% c("IVEE") ~ "Isla Vista Reef"
  ))


purple_urchins

```

## Data Visualization

```{r, include = FALSE}
purple_urchins_obs <- purple_urchins %>%
  select(site, year)

purple_urchins_obs
  
```

```{r}
ggplot(data = purple_urchins_obs, aes(x = ))
```

